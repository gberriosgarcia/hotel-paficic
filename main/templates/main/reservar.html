{% load static %}
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Reservar · Hotel Pacific Reef</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="{% static 'styles/styles.css' %}" />
</head>
<body class="bg-light">

  {% include 'main/header.html' %}

  <main class="container py-5">
    <h1 class="mb-4 text-center">Reserva tu habitación</h1>

    {% if messages %}
      {% for message in messages %}
        <div class="alert alert-{{ message.tags|default:'info' }}">{{ message }}</div>
      {% endfor %}
    {% endif %}

    {% if not request.user.is_authenticated %}
      <div class="alert alert-warning">
        Debes <a href="{% url 'login' %}">iniciar sesión</a> para reservar.
      </div>
    {% else %}
    <form method="post" action="{% url 'reservar' %}" class="mx-auto card p-4 shadow-sm" style="max-width: 760px;">
  {% csrf_token %}

  <div class="mb-3">
    <label for="nombre" class="form-label">Nombre completo</label>
    <input type="text" class="form-control" id="nombre" name="nombre" required>
  </div>

  <div class="mb-3">
    <label for="email" class="form-label">Correo electrónico</label>
    <input type="email" class="form-control" id="email" name="email" required>
  </div>

  <div class="mb-3">
    <label for="telefono" class="form-label">Teléfono</label>
    <input type="tel" class="form-control" id="telefono" name="telefono" pattern="[0-9+()\-\s]{7,20}">
  </div>

  <div class="row g-3 mb-3">
    <div class="col-md-6">
      <label for="fecha_entrada" class="form-label">Fecha de llegada</label>
      <input type="date" class="form-control" id="fecha_entrada" name="fecha_entrada" required>
    </div>
    <div class="col-md-6">
      <label for="fecha_salida" class="form-label">Fecha de salida</label>
      <input type="date" class="form-control" id="fecha_salida" name="fecha_salida" required>
    </div>
  </div>

  <div class="mb-3">
    <label for="tipo" class="form-label">Tipo de habitación</label>
    <select class="form-select" id="tipo" name="tipo" required>
      <option value="" selected disabled>Selecciona una opción</option>
      <option value="turista">Turista (Normal)</option>
      <option value="premium">Premium / Suite</option>
    </select>
  </div>  

  <div class="mb-3">
    <label class="form-label">Adelanto 30% (USD)</label>
    <input id="adelantoDisplay" class="form-control" value="—" disabled>
  </div>

  <button type="submit" class="btn btn-primary w-100">Confirmar reserva</button>
</form>
    {% endif %}
  </main>

  <footer class="container py-4 text-center text-secondary small">
    © <span id="year"></span> Hotel Pacific Reef · Todos los derechos reservados
  </footer>

  <script>
    // Año footer
    document.getElementById('year').textContent = new Date().getFullYear();

    
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="{% static 'js/reserva.js' %}" defer></script>
</body>
</html>
